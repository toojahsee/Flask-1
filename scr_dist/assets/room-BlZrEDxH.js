$(function(){let o=!1;$("#joinRoomBtn").on("click",function(){if(o)return;const e=$("#roomIdInput").val().trim();if(!e){$("#errorMsg").text("请输入房间号").show();return}$("#errorMsg").hide(),o=!0,$("#joinRoomBtn").prop("disabled",!0).text("正在加入..."),$.get("/check_room",{room:e}).done(function(t){t.room&&t.player_count<2?window.location.href=`/room/${encodeURIComponent(e)}`:($("#errorMsg").text("房间已满或无效，请检查房间号或稍后重试。").show(),o=!1,$("#joinRoomBtn").prop("disabled",!1).text("加入房间"))}).fail(function(){$("#errorMsg").text("服务器请求失败，请检查网络或稍后重试。").show(),o=!1,$("#joinRoomBtn").prop("disabled",!1).text("加入房间")})})});
